---
title: 注意事項
description: 本頁會列出一些實作時的注意事項，請務必遵守。
navigation: true
---

## 特殊規則相關

### 方塊快速下落(fallInstantly)

1. 不可再開啟時右鍵點擊龍蛋

### 瞬時計劃刻(scheduledUpdatesAreImmediate)

1. 不可再主進程放置臉對臉或長偵測器鏈等會造成指數級更新的方塊，這會導致主線程卡死
2. 不可放置及更新:

::div{class="ml-4"}
- 絆線
- 冰霜
- 壓力板 ~~< 請特別注意他，由其是神奇村莊 !!! 會有一多神奇壓力版桌子，村民會碰到 :smart-icon{name="😭"}~~
- 探測鐵軌
- 對臉偵測器
- 減法比較器高頻
::

## 常見崩潰

### java.lang.StackOverflowError: Exception while updating neighbours

- 水和發射器等在 ITT 開啟時造成持續觸發，導致溢出，請依下方座標排除對應方塊

```java{1,3,22,28,34,40,47} collapse height=150 line-numbers
Description: Exception while updating neighbours // [!code focus]

java.lang.StackOverflowError: Exception while updating neighbours // [!code focus]
 at on.c(ChunkProviderServer.java:163)
 at amu.a(World.java:360)
 at amu.f(World.java:352)
 at amu.o(World.java:986)
 at oo.a(WorldServer.java:735)
 at oo.a(WorldServer.java:722)
 at aqe.c(BlockDynamicLiquid.java:317)
 at axw.setBlockState_carpet(Chunk.java:677)
 at amu.a(World.java:399)
 at ahi.a(SourceFile:139)
 at ni$4.b(Bootstrap.java:315)

// ...

-- Block being updated --
Details:
 Source block type: ID #0 (tile.air // aom)
 Block: minecraft:dispenser[facing=south,triggered=false]
 Block location: World: (10006,184,1090), Chunk: (at 6,11,2 in 625,68; contains blocks 10000,0,1088 to 10015,255,1103), Region: (19,2; contains chunks 608,64 to 639,95, blocks 9728,0,1024 to 10239,255,1535) // [!code focus]

-- Block being updated --
Details:
 Source block type: ID #0 (tile.air // aom)
 Block: minecraft:dispenser[facing=south,triggered=false]
 Block location: World: (10006,184,1090), Chunk: (at 6,11,2 in 625,68; contains blocks 10000,0,1088 to 10015,255,1103), Region: (19,2; contains chunks 608,64 to 639,95, blocks 9728,0,1024 to 10239,255,1535) // [!code focus]

-- Block being updated --
Details:
 Source block type: ID #0 (tile.air // aom)
 Block: minecraft:water[level=5]
 Block location: World: (10006,184,1096), Chunk: (at 6,11,8 in 625,68; contains blocks 10000,0,1088 to 10015,255,1103), Region: (19,2; contains chunks 608,64 to 639,95, blocks 9728,0,1024 to 10239,255,1535) // [!code focus]

-- Block being updated --
Details:
 Source block type: ID #149 (tile.comparator // app)
 Block: minecraft:dispenser[facing=south,triggered=false]
 Block location: World: (10006,184,1090), Chunk: (at 6,11,2 in 625,68; contains blocks 10000,0,1088 to 10015,255,1103), Region: (19,2; contains chunks 608,64 to 639,95, blocks 9728,0,1024 to 10239,255,1535) // [!code focus]

-- Block entity being ticked --
Details:
 Name: minecraft:hopper // avw
 Block type: ID #154 (tile.hopper // arl)
 Block data value: 0 / 0x0 / 0b0000
 Block location: World: (10006,184,1088), Chunk: (at 6,11,0 in 625,68; contains blocks 10000,0,1088 to 10015,255,1103), Region: (19,2; contains chunks 608,64 to 639,95, blocks 9728,0,1024 to 10239,255,1535) // [!code focus]
 Actual block type: ID #154 (tile.hopper // arl)
 Actual block data value: 0 / 0x0 / 0b0000
```

- 偵測器和水等在 ITT 開啟時造成持續觸發，導致溢出，請依下方座標排除對應方塊

```java{1,3,30,36,42} collapse height=150 line-numbers
Description: Exception while updating neighbours // [!code focus]

java.lang.StackOverflowError: Exception while updating neighbours // [!code focus]
 at java.lang.ClassLoader.defineClass1(Native Method)
 at java.lang.ClassLoader.defineClass(ClassLoader.java:757)
 at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
 at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)
 at java.net.URLClassLoader.access$100(URLClassLoader.java:74)
 at java.net.URLClassLoader$1.run(URLClassLoader.java:369)
 at java.net.URLClassLoader$1.run(URLClassLoader.java:363)
 at java.security.AccessController.doPrivileged(Native Method)
 at java.net.URLClassLoader.findClass(URLClassLoader.java:362)
 at java.lang.ClassLoader.loadClass(ClassLoader.java:419)
 at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)
 at java.lang.ClassLoader.loadClass(ClassLoader.java:352)
 at amu.a(World.java:681)
 at amu.b(World.java:582)
 at amu.a(World.java:492)
 at amu.a(World.java:421)
 at ahi.a(SourceFile:139)
 at ni$4.b(Bootstrap.java:315)
 at ex.a(SourceFile:12)

// ...

-- Block being updated --
Details:
 Source block type: ID #218 (tile.observer // asl)
 Block: minecraft:observer[facing=up,powered=false]
 Block location: World: (10004,65,852), Chunk: (at 4,4,4 in 625,53; contains blocks 10000,0,848 to 10015,255,863), Region: (19,1; contains chunks 608,32 to 639,63, blocks 9728,0,512 to 10239,255,1023) // [!code focus]

-- Block being updated --
Details:
 Source block type: ID #9 (tile.water // auf)
 Block: minecraft:observer[facing=up,powered=false]
 Block location: World: (10004,66,852), Chunk: (at 4,4,4 in 625,53; contains blocks 10000,0,848 to 10015,255,863), Region: (19,1; contains chunks 608,32 to 639,63, blocks 9728,0,512 to 10239,255,1023) // [!code focus]

-- Block being updated --
Details:
 Source block type: ID #0 (tile.air // aom)
 Block: minecraft:water[level=6]
 Block location: World: (10003,67,851), Chunk: (at 3,4,3 in 625,53; contains blocks 10000,0,848 to 10015,255,863), Region: (19,1; contains chunks 608,32 to 639,63, blocks 9728,0,512 to 10239,255,1023) // [!code focus]
```

### java.lang.IllegalStateException: TickNextTick list out of synch

```java{1} collapse height=150 line-numbers
java.lang.IllegalStateException: TickNextTick list out of synch // [!code focus]
 at oo.a(WorldServer.java:915)
 at oo.d(WorldServer.java:302)
 at net.minecraft.server.MinecraftServer.D(MinecraftServer.java:874)
 at nz.D(DedicatedServer.java:410)
 at net.minecraft.server.MinecraftServer.C(MinecraftServer.java:757)
 at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:608)
 at java.lang.Thread.run(Thread.java:750)
```

### Watching Server

主進程卡死，請注意不要再 `ITT` 開啟時，在主線程放置臉對臉或長偵測器鏈等會造成指數級更新的方塊，這會導致主線程卡死。

```java{1} collapse height=150 line-numbers
Description: Watching Server // [!code focus]

java.lang.Error
 at java.util.Objects.hashCode(Objects.java:98)
 at java.util.HashMap$Node.hashCode(HashMap.java:298)
 at java.util.AbstractMap.hashCode(AbstractMap.java:530)
 at axh.hashCode(SourceFile:65)
 at com.google.common.collect.RegularImmutableMap.get(RegularImmutableMap.java:123)
 at com.google.common.collect.RegularImmutableMap.get(RegularImmutableMap.java:115)
 at awu$a.c(SourceFile:164)

// ...
```
